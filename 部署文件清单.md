# 📦 部署文件清单

本文档列出了部署到宝塔Linux服务器所需的所有文件和配置。

## 📄 部署文档

- **README_DEPLOY.md** - 详细的部署指南（推荐先阅读）
- **DEPLOY_QUICK.md** - 5分钟快速部署指南
- **部署文件清单.md** - 本文件

## 🔧 部署脚本

- **deploy.sh** - 自动化部署脚本（一键部署）
- **build.sh** - 快速构建脚本（仅构建前端）

## ⚙️ 配置文件

### 后端配置
- **server/ecosystem.config.js** - PM2进程管理配置
- **server/.env** - 后端环境变量（需要手动创建，参考 server/.env.example）

### 前端配置
- **.env.production** - 前端生产环境变量（部署脚本会自动创建）

## 📋 部署步骤总结

1. **上传项目文件**到服务器
2. **运行部署脚本**：`chmod +x deploy.sh && ./deploy.sh`
3. **配置Nginx**反向代理（参考 README_DEPLOY.md）
4. **完成！**访问您的域名

## 🔍 文件说明

### deploy.sh
自动化部署脚本，执行以下操作：
- 检查Node.js和npm环境
- 安装前端和后端依赖
- 创建环境变量配置文件
- 构建前端项目
- 使用PM2启动后端服务

### build.sh
仅构建前端项目，用于快速更新前端代码。

### server/ecosystem.config.js
PM2配置文件，定义：
- 应用名称：`personal-website-api`
- 启动脚本：`server.js`
- 环境变量配置
- 日志文件位置

## 📝 注意事项

1. **环境变量**：
   - 后端：`server/.env`（需要手动创建）
   - 前端：`.env.production`（部署脚本会自动创建）

2. **API地址配置**：
   - 生产环境使用相对路径 `/api`
   - Nginx会处理反向代理

3. **数据库**：
   - SQLite数据库文件位于 `server/database/database.sqlite`
   - 首次运行会自动创建

4. **日志文件**：
   - PM2日志：`server/logs/pm2-*.log`
   - 可通过 `pm2 logs` 查看

## 🚀 快速开始

```bash
# 1. 上传文件到服务器后，进入项目目录
cd /www/wwwroot/your-domain.com

# 2. 运行部署脚本
chmod +x deploy.sh
./deploy.sh

# 3. 配置Nginx（在宝塔面板中）
# 参考 README_DEPLOY.md 中的Nginx配置

# 4. 完成！
```

---

**详细说明请查看 README_DEPLOY.md**

